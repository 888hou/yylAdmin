import{r as e,C as l,K as i,a as t,k as s,w as r,a3 as a,f as o,an as f,c as p,j as d,aa as u,a2 as n,as as c}from"./index.Dxpxc0Wv.js";import{E as y}from"./el-row.zIhwjUGa.js";import{E as m}from"./el-col.BYj1fpTj.js";import{E as _}from"./el-image-viewer.CDtIut0V.js";import{_ as h}from"./index.Cbbf_j0e.js";import{h as v}from"./clipboard.B-1H5DfJ.js";const w={key:0},g={key:0},j=["src"],k=["data"],x=["src"],z=["src"],b=["src"],B={key:3},C={key:4},E={__name:"FilePreview",props:{file:{type:Object,default:()=>{}},height:{type:Number,default:30},fit:{type:String,default:""},lazy:{type:Boolean,default:!1},previewTeleported:{type:Boolean,default:!0},download:{type:Boolean,default:!1}},setup(E){const T=E,F=e(24),K=e(0),N=l((()=>({height:T.height+"px"}))),O=l((()=>({height:T.height+"px"}))),P=l((()=>({height:T.height+"px"}))),S=l((()=>({width:"90%"}))),q=l((()=>.7*T.height+"px"));return i((()=>T.download),(e=>{e&&(F.value=12,K.value=12)}),{immediate:!0,deep:!0}),(e,l)=>{const i=h,T=_,A=m,D=c,G=y;return t(),s(G,{style:{width:"100%"}},{default:r((()=>[a(A,{span:o(F),style:f(o(N))},{default:r((()=>[E.file.file_url?(t(),p("div",w,["image"===E.file.file_type?(t(),p("div",g,[a(T,{style:f(o(O)),src:E.file.file_url,fit:E.fit,"preview-src-list":[E.file.file_url],"preview-teleported":E.previewTeleported,lazy:E.lazy,title:"点击看大图"},{error:r((()=>[a(i,{"icon-class":"picture"})])),_:1},8,["style","src","fit","preview-src-list","preview-teleported","lazy"])])):"video"===E.file.file_type?(t(),p("video",{key:1,style:f(o(P)),controls:""},[d("source",{src:E.file.file_url,type:"video/mp4"},null,8,j),d("object",{data:E.file.file_url,style:f(o(P))},[d("embed",{src:E.file.file_url,style:f(o(P))},null,12,x)],12,k)],4)):"audio"===E.file.file_type?(t(),p("audio",{key:2,style:f(o(S)),controls:""},[d("source",{src:E.file.file_url,type:"audio/mp3"},null,8,z),d("embed",{src:E.file.file_url,style:f(o(S))},null,12,b)],4)):"word"===E.file.file_type?(t(),p("div",B,[a(i,{"icon-class":"document",size:o(q)},null,8,["size"])])):"other"===E.file.file_type?(t(),p("div",C,[a(i,{"icon-class":"folder",size:o(q)},null,8,["size"])])):u("",!0)])):u("",!0)])),_:1},8,["span","style"]),a(A,{span:o(K)},{default:r((()=>[a(D,{onClick:l[0]||(l[0]=e=>{return l=E.file,v(function(e){return e.file_name+"."+e.file_ext}(l),"文件名复制成功"),void setTimeout((()=>{window.open(l.file_url,"_blank")}),500);var l})},{default:r((()=>[n("下载")])),_:1})])),_:1},8,["span"])])),_:1})}}};export{E as _};
