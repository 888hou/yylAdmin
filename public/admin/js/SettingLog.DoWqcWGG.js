import{aa as e,a,k as l,w as t,a2 as s,a1 as o,ax as i,ar as d}from"./index.DjA_re4j.js";import{E as r}from"./el-row.BdhO5HhT.js";import{a as m,E as n}from"./el-form-item.hhV0qe52.js";import{E as u}from"./el-col.Dga7oIhs.js";import{E as h}from"./el-switch.DFvPhZwO.js";import{s as p}from"./screen-height.Bl-ULtFD.js";import{l as f,e as g}from"./setting.u2NHz263.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.DfHHGGLY.js";import"./_Uint8Array.CC4oM34b.js";import"./tagsView.DcdT0xLi.js";const c=_({name:"MemberSettingLog",data:()=>({name:"日志设置",height:680,loading:!1,model:{log_switch:0,log_save_time:0},rules:{}}),created(){this.height=p(210),this.info()},methods:{info(){f().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,f().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,g(this.model).then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,p,f,g,_,c){const j=h,v=u,w=m,b=i,V=d,x=n,y=r;return a(),l(y,null,{default:t((()=>[s(v,{span:14},{default:t((()=>[s(x,{ref:"ref",model:_.model,rules:_.rules,"label-width":"120px"},{default:t((()=>[s(w,{label:"日志记录开关",prop:"log_switch"},{default:t((()=>[s(v,{span:8},{default:t((()=>[s(j,{modelValue:_.model.log_switch,"onUpdate:modelValue":p[0]||(p[0]=e=>_.model.log_switch=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),s(v,{span:16},{default:t((()=>[o(" 开启后，会记录会员日志 ")])),_:1})])),_:1}),s(w,{label:"日志保留时间",prop:"log_save_time"},{default:t((()=>[s(v,{span:8},{default:t((()=>[s(b,{modelValue:_.model.log_save_time,"onUpdate:modelValue":p[1]||(p[1]=e=>_.model.log_save_time=e),type:"number"},{append:t((()=>[o("天")])),_:1},8,["modelValue"])])),_:1}),s(v,{span:16},{default:t((()=>[o(" 会员日志保留天数，0永久保留 ")])),_:1})])),_:1}),s(w,null,{default:t((()=>[s(V,{loading:_.loading,onClick:p[2]||(p[2]=e=>c.refresh())},{default:t((()=>[o("刷新")])),_:1},8,["loading"]),s(V,{loading:_.loading,type:"primary",onClick:p[3]||(p[3]=e=>c.submit())},{default:t((()=>[o("提交")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{c as default};
