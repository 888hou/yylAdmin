import{ab as e,a as l,k as a,w as o,a3 as d,c as m,Q as u,af as t,aa as n,j as _,t as s,a2 as i,ay as V,as as p}from"./index.X-jui3pB.js";import{E as r}from"./el-scrollbar.EjLrJKZ7.js";import{E as c}from"./el-row.FTUnHtwG.js";import{E as f}from"./el-col.QFLVBZWX.js";import{a as b,E as h}from"./el-form-item.fBV8IyCx.js";import{s as U}from"./screen-height.gFiksU7H.js";import{s as y}from"./setting.nV-iW71_.js";import{_ as g}from"./_plugin-vue_export-helper.NGi3vMWx.js";import"./castArray.xoi9qGdq.js";import"./_Uint8Array.ccUD6PZG.js";import"./tagsView.XBTTKaFa.js";const x={key:0},v={key:1},w={key:2};const j=g({name:"SystemSettingServer",data:()=>({name:"服务器信息",height:680,loading:!1,model:{}}),created(){this.height=U(210),this.info()},methods:{info(){y().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,y({force:1}).then((l=>{this.model=l.data,this.loading=!1,e.success(l.msg)})).catch((()=>{this.loading=!1}))}}},[["render",function(e,U,y,g,j,k){const P=V,z=b,S=h,E=f,D=p,q=c,A=r;return l(),a(A,{native:"",height:j.height},{default:o((()=>[d(q,null,{default:o((()=>[d(E,{span:12},{default:o((()=>[d(S,{model:j.model,"label-width":"150px"},{default:o((()=>[d(z,{label:"ThinkPHP"},{default:o((()=>[d(P,{modelValue:j.model.thinkphp,"onUpdate:modelValue":U[0]||(U[0]=e=>j.model.thinkphp=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"OS"},{default:o((()=>[d(P,{modelValue:j.model.system_info,"onUpdate:modelValue":U[1]||(U[1]=e=>j.model.system_info=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Web"},{default:o((()=>[d(P,{modelValue:j.model.server_software,"onUpdate:modelValue":U[2]||(U[2]=e=>j.model.server_software=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"MySQL"},{default:o((()=>[d(P,{modelValue:j.model.mysql,"onUpdate:modelValue":U[3]||(U[3]=e=>j.model.mysql=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"PHP"},{default:o((()=>[d(P,{modelValue:j.model.php_version,"onUpdate:modelValue":U[4]||(U[4]=e=>j.model.php_version=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Protocol"},{default:o((()=>[d(P,{modelValue:j.model.server_protocol,"onUpdate:modelValue":U[5]||(U[5]=e=>j.model.server_protocol=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"IP"},{default:o((()=>[d(P,{modelValue:j.model.ip,"onUpdate:modelValue":U[6]||(U[6]=e=>j.model.ip=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Domain"},{default:o((()=>[d(P,{modelValue:j.model.domain,"onUpdate:modelValue":U[7]||(U[7]=e=>j.model.domain=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Port"},{default:o((()=>[d(P,{modelValue:j.model.port,"onUpdate:modelValue":U[8]||(U[8]=e=>j.model.port=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"php_sapi_name"},{default:o((()=>[d(P,{modelValue:j.model.php_sapi_name,"onUpdate:modelValue":U[9]||(U[9]=e=>j.model.php_sapi_name=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"max_execution_time"},{default:o((()=>[d(P,{modelValue:j.model.max_execution_time,"onUpdate:modelValue":U[10]||(U[10]=e=>j.model.max_execution_time=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"upload_max_filesize"},{default:o((()=>[d(P,{modelValue:j.model.upload_max_filesize,"onUpdate:modelValue":U[11]||(U[11]=e=>j.model.upload_max_filesize=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"post_max_size",class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model.post_max_size,"onUpdate:modelValue":U[12]||(U[12]=e=>j.model.post_max_size=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1}),d(E,{span:12},{default:o((()=>[d(S,{model:j.model,"label-width":"150px"},{default:o((()=>[d(z,{label:"缓存类型",prop:"type"},{default:o((()=>[d(P,{modelValue:j.model.cache_type,"onUpdate:modelValue":U[13]||(U[13]=e=>j.model.cache_type=e)},null,8,["modelValue"])])),_:1}),"redis"===j.model.cache_type?(l(),m("div",x,[d(z,{label:"Redis"},{default:o((()=>[d(P,{modelValue:j.model.redis_version,"onUpdate:modelValue":U[14]||(U[14]=e=>j.model.redis_version=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"运行时长"},{default:o((()=>[d(P,{modelValue:j.model.uptime_in_days,"onUpdate:modelValue":U[15]||(U[15]=e=>j.model.uptime_in_days=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"已用内存"},{default:o((()=>[d(P,{modelValue:j.model.used_memory_human,"onUpdate:modelValue":U[16]||(U[16]=e=>j.model.used_memory_human=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"峰值内存"},{default:o((()=>[d(P,{modelValue:j.model.used_memory_peak_human,"onUpdate:modelValue":U[17]||(U[17]=e=>j.model.used_memory_peak_human=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Lua内存"},{default:o((()=>[d(P,{modelValue:j.model.used_memory_lua_human,"onUpdate:modelValue":U[18]||(U[18]=e=>j.model.used_memory_lua_human=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"客户端数"},{default:o((()=>[d(P,{modelValue:j.model.connected_clients,"onUpdate:modelValue":U[19]||(U[19]=e=>j.model.connected_clients=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"总连接数"},{default:o((()=>[d(P,{modelValue:j.model.total_connections_received,"onUpdate:modelValue":U[20]||(U[20]=e=>j.model.total_connections_received=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"总命令数"},{default:o((()=>[d(P,{modelValue:j.model.total_commands_processed,"onUpdate:modelValue":U[21]||(U[21]=e=>j.model.total_commands_processed=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"内存碎片比率"},{default:o((()=>[d(P,{modelValue:j.model.mem_fragmentation_ratio,"onUpdate:modelValue":U[22]||(U[22]=e=>j.model.mem_fragmentation_ratio=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"DB0",class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model.db0,"onUpdate:modelValue":U[23]||(U[23]=e=>j.model.db0=e)},null,8,["modelValue"])])),_:1}),(l(),m(u,null,t(15,(e=>(l(),m(u,null,[j.model["db"+e]?(l(),a(z,{key:e,label:"DB"+e,class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model["db"+e],"onUpdate:modelValue":l=>j.model["db"+e]=l},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])):n("",!0)],64)))),64))])):"memcache"===j.model.cache_type?(l(),m("div",v,[d(z,{label:"memcache"},{default:o((()=>[d(P,{modelValue:j.model.version,"onUpdate:modelValue":U[24]||(U[24]=e=>j.model.version=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"运行秒数"},{default:o((()=>[d(P,{modelValue:j.model.uptime,"onUpdate:modelValue":U[25]||(U[25]=e=>j.model.uptime=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"读取字节总数"},{default:o((()=>[d(P,{modelValue:j.model.bytes_read,"onUpdate:modelValue":U[26]||(U[26]=e=>j.model.bytes_read=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"写入字节总数"},{default:o((()=>[d(P,{modelValue:j.model.bytes_written,"onUpdate:modelValue":U[27]||(U[27]=e=>j.model.bytes_written=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"分配的内存数"},{default:o((()=>[d(P,{modelValue:j.model.limit_maxbytes,"onUpdate:modelValue":U[28]||(U[28]=e=>j.model.limit_maxbytes=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"当前打开链接数"},{default:o((()=>[d(P,{modelValue:j.model.curr_connections,"onUpdate:modelValue":U[29]||(U[29]=e=>j.model.curr_connections=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"曾打开连接总数"},{default:o((()=>[d(P,{modelValue:j.model.total_connections,"onUpdate:modelValue":U[30]||(U[30]=e=>j.model.total_connections=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"执行get命令总数"},{default:o((()=>[d(P,{modelValue:j.model.cmd_get,"onUpdate:modelValue":U[31]||(U[31]=e=>j.model.cmd_get=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"执行set命令总数"},{default:o((()=>[d(P,{modelValue:j.model.cmd_set,"onUpdate:modelValue":U[32]||(U[32]=e=>j.model.cmd_set=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"flush_all命令总数"},{default:o((()=>[d(P,{modelValue:j.model.cmd_flush,"onUpdate:modelValue":U[33]||(U[33]=e=>j.model.cmd_flush=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"当前服务器时间",class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model.time,"onUpdate:modelValue":U[34]||(U[34]=e=>j.model.time=e)},null,8,["modelValue"])])),_:1})])):"wincache"===j.model.cache_type?(l(),m("div",w,[d(z,{label:"缓存信息",prop:"wincache_info"},{default:o((()=>[_("pre",null,s(j.model.wincache_info),1)])),_:1})])):n("",!0)])),_:1},8,["model"])])),_:1}),d(E,{span:24},{default:o((()=>[d(S,{model:j.model,"label-width":"150px"},{default:o((()=>[d(z,null,{default:o((()=>[d(D,{loading:j.loading,title:"刷新",onClick:U[35]||(U[35]=e=>k.refresh())},{default:o((()=>[i("刷新")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])),_:1},8,["height"])}]]);export{j as default};
