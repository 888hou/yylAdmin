import{ab as e,a,k as t,w as l,a3 as s,a2 as i,ay as r,as as o}from"./index.X-jui3pB.js";import{E as d}from"./el-row.FTUnHtwG.js";import{a as m,E as n}from"./el-form-item.fBV8IyCx.js";import{E as u}from"./el-col.QFLVBZWX.js";import{s as p}from"./screen-height.gFiksU7H.js";import{a as _,b as h}from"./setting.nV-iW71_.js";import{_ as f}from"./_plugin-vue_export-helper.NGi3vMWx.js";import"./castArray.xoi9qGdq.js";import"./_Uint8Array.ccUD6PZG.js";import"./tagsView.XBTTKaFa.js";const g=f({name:"SystemSettingApi",data:()=>({name:"接口设置",height:680,loading:!1,model:{api_rate_num:3,api_rate_time:1},rules:{api_rate_num:[{required:!0,message:"请输入次数",trigger:"blur"}],api_rate_time:[{required:!0,message:"请输入时间",trigger:"blur"}]}}),created(){this.height=p(210),this.info()},methods:{info(){_().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,_().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,h(this.model).then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,p,_,h,f,g){const c=r,b=u,j=m,y=o,V=n,k=d;return a(),t(k,null,{default:l((()=>[s(b,{span:16},{default:l((()=>[s(V,{ref:"ref",model:f.model,rules:f.rules,"label-width":"120px"},{default:l((()=>[s(j,{label:"接口速率"},{default:l((()=>[s(b,{span:6},{default:l((()=>[s(c,{modelValue:f.model.api_rate_num,"onUpdate:modelValue":p[0]||(p[0]=e=>f.model.api_rate_num=e),type:"number",placeholder:"次数"},{append:l((()=>[i("次 /")])),_:1},8,["modelValue"])])),_:1}),s(b,{span:6},{default:l((()=>[s(c,{modelValue:f.model.api_rate_time,"onUpdate:modelValue":p[1]||(p[1]=e=>f.model.api_rate_time=e),type:"number",placeholder:"时间"},{append:l((()=>[i("秒")])),_:1},8,["modelValue"])])),_:1})])),_:1}),s(j,null,{default:l((()=>[i(" 次数/时间；3/1：3次1秒；次数为 0 则不限制。 ")])),_:1}),s(j,null,{default:l((()=>[s(y,{loading:f.loading,onClick:p[2]||(p[2]=e=>g.refresh())},{default:l((()=>[i("刷新")])),_:1},8,["loading"]),s(y,{loading:f.loading,type:"primary",onClick:p[3]||(p[3]=e=>g.submit())},{default:l((()=>[i("提交")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{g as default};
