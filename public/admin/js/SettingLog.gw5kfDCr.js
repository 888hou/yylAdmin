import{ab as e,c as a,l,w as t,a3 as s,a2 as o,ay as i,as as d}from"./index.APvhMgDH.js";import{E as m}from"./el-row.CPP9k-Sk.js";import{a as r,E as n}from"./el-form-item.CRP52N48.js";import{E as u}from"./el-col.CfjMTi8p.js";import{E as h}from"./el-switch.Cb3IQwTC.js";import{s as p}from"./screen-height.C1I3e_dh.js";import{l as f,e as g}from"./setting.eMLKBDW6.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.BGOR1owe.js";import"./_Uint8Array.Dyjbn1zu.js";import"./tagsView.CbCSAniL.js";const c=_({name:"MemberSettingLog",data:()=>({name:"日志设置",height:680,loading:!1,model:{log_switch:0,log_save_time:0},rules:{}}),created(){this.height=p(210),this.info()},methods:{info(){f().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,f().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,g(this.model).then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,p,f,g,_,c){const j=h,v=u,b=r,w=i,V=d,y=n,x=m;return a(),l(x,null,{default:t((()=>[s(v,{span:14},{default:t((()=>[s(y,{ref:"ref",model:_.model,rules:_.rules,"label-width":"120px"},{default:t((()=>[s(b,{label:"日志记录开关",prop:"log_switch"},{default:t((()=>[s(v,{span:8},{default:t((()=>[s(j,{modelValue:_.model.log_switch,"onUpdate:modelValue":p[0]||(p[0]=e=>_.model.log_switch=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),s(v,{span:16},{default:t((()=>[o(" 开启后，会记录会员日志 ")])),_:1})])),_:1}),s(b,{label:"日志保留时间",prop:"log_save_time"},{default:t((()=>[s(v,{span:8},{default:t((()=>[s(w,{modelValue:_.model.log_save_time,"onUpdate:modelValue":p[1]||(p[1]=e=>_.model.log_save_time=e),type:"number"},{append:t((()=>[o("天")])),_:1},8,["modelValue"])])),_:1}),s(v,{span:16},{default:t((()=>[o(" 会员日志保留天数，0永久保留 ")])),_:1})])),_:1}),s(b,null,{default:t((()=>[s(V,{loading:_.loading,onClick:p[2]||(p[2]=e=>c.refresh())},{default:t((()=>[o("刷新")])),_:1},8,["loading"]),s(V,{loading:_.loading,type:"primary",onClick:p[3]||(p[3]=e=>c.submit())},{default:t((()=>[o("提交")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{c as default};
