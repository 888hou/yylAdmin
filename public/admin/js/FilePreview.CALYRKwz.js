import{r as e,C as l,J as i,a as t,k as s,w as r,a2 as a,f as o,am as f,c as p,j as d,a9 as u,a1 as n,ar as c}from"./index.DjA_re4j.js";import{E as y}from"./el-row.BdhO5HhT.js";import{E as m}from"./el-col.Dga7oIhs.js";import{E as _}from"./el-image-viewer.fFYArL2i.js";import{_ as h}from"./index.DhRVrygn.js";import{h as v}from"./clipboard.2ITcRTuu.js";const w={key:0},g={key:0},j=["src"],k=["data"],x=["src"],z=["src"],b=["src"],B={key:3},E={key:4},T={__name:"FilePreview",props:{file:{type:Object,default:()=>{}},height:{type:Number,default:30},fit:{type:String,default:""},lazy:{type:Boolean,default:!1},previewTeleported:{type:Boolean,default:!0},download:{type:Boolean,default:!1}},setup(T){const C=T,D=e(24),F=e(0),J=l((()=>({height:C.height+"px"}))),N=l((()=>({height:C.height+"px"}))),O=l((()=>({height:C.height+"px"}))),P=l((()=>({width:"90%"}))),S=l((()=>.7*C.height+"px"));return i((()=>C.download),(e=>{e&&(D.value=12,F.value=12)}),{immediate:!0,deep:!0}),(e,l)=>{const i=h,C=_,q=m,A=c,G=y;return t(),s(G,{style:{width:"100%"}},{default:r((()=>[a(q,{span:o(D),style:f(o(J))},{default:r((()=>[T.file.file_url?(t(),p("div",w,["image"===T.file.file_type?(t(),p("div",g,[a(C,{style:f(o(N)),src:T.file.file_url,fit:T.fit,"preview-src-list":[T.file.file_url],"preview-teleported":T.previewTeleported,lazy:T.lazy,title:"点击看大图"},{error:r((()=>[a(i,{"icon-class":"picture"})])),_:1},8,["style","src","fit","preview-src-list","preview-teleported","lazy"])])):"video"===T.file.file_type?(t(),p("video",{key:1,style:f(o(O)),controls:""},[d("source",{src:T.file.file_url,type:"video/mp4"},null,8,j),d("object",{data:T.file.file_url,style:f(o(O))},[d("embed",{src:T.file.file_url,style:f(o(O))},null,12,x)],12,k)],4)):"audio"===T.file.file_type?(t(),p("audio",{key:2,style:f(o(P)),controls:""},[d("source",{src:T.file.file_url,type:"audio/mp3"},null,8,z),d("embed",{src:T.file.file_url,style:f(o(P))},null,12,b)],4)):"word"===T.file.file_type?(t(),p("div",B,[a(i,{"icon-class":"document",size:o(S)},null,8,["size"])])):"other"===T.file.file_type?(t(),p("div",E,[a(i,{"icon-class":"folder",size:o(S)},null,8,["size"])])):u("",!0)])):u("",!0)])),_:1},8,["span","style"]),a(q,{span:o(F)},{default:r((()=>[a(A,{onClick:l[0]||(l[0]=e=>{return l=T.file,v(function(e){return e.file_name+"."+e.file_ext}(l),"文件名复制成功"),void setTimeout((()=>{window.open(l.file_url,"_blank")}),500);var l})},{default:r((()=>[n("下载")])),_:1})])),_:1},8,["span"])])),_:1})}}};export{T as _};
