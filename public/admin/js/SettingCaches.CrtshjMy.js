import{ac as e,c as a,l as t,w as l,a3 as s,a2 as o,az as i,at as r}from"./index.CYwDHgSX.js";import{E as d}from"./el-row.CUAePAXu.js";import{a as n,E as m}from"./el-form-item.RgEHfbLl.js";import{E as h}from"./el-col.DryuoNBx.js";import{s as c}from"./screen-height.DTn4MhRY.js";import{d as f,c as p}from"./setting.CjhxZw2V.js";import{_ as u}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.DDF9UvWf.js";import"./_Uint8Array.BfmJkLIP.js";import"./tagsView.Yz9WeQ11.js";const g=u({name:"SystemSettingCache",data:()=>({name:"缓存设置",height:680,loading:!1,model:{cache_type:""},rules:{}}),created(){this.height=c(210),this.info()},methods:{info(){f().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,f().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},clear(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,p().then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,c,f,p,u,g){const _=i,j=h,y=n,w=r,x=m,V=d;return a(),t(V,null,{default:l((()=>[s(j,{span:16},{default:l((()=>[s(x,{ref:"ref",model:u.model,rules:u.rules,"label-width":"120px"},{default:l((()=>[s(y,{label:"缓存类型",prop:"cache_type"},{default:l((()=>[s(j,{span:8},{default:l((()=>[s(_,{modelValue:u.model.cache_type,"onUpdate:modelValue":c[0]||(c[0]=e=>u.model.cache_type=e)},null,8,["modelValue"])])),_:1})])),_:1}),s(y,null,{default:l((()=>[o(" 手动清除所有缓存，后台登录状态不会清除。 ")])),_:1}),s(y,null,{default:l((()=>[s(w,{loading:u.loading,onClick:c[1]||(c[1]=e=>g.refresh())},{default:l((()=>[o("刷新")])),_:1},8,["loading"]),s(w,{loading:u.loading,type:"primary",onClick:c[2]||(c[2]=e=>g.clear())},{default:l((()=>[o("清除")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{g as default};
