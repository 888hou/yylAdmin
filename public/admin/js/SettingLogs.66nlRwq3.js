import{ab as e,a,k as l,w as t,a3 as s,a2 as o,ay as i,as as d}from"./index.X-jui3pB.js";import{E as m}from"./el-row.FTUnHtwG.js";import{a as r,E as n}from"./el-form-item.fBV8IyCx.js";import{E as u}from"./el-col.QFLVBZWX.js";import{E as h}from"./el-switch.Fev2IwRl.js";import{s as p}from"./screen-height.gFiksU7H.js";import{l as f,j as g}from"./setting.nV-iW71_.js";import{_}from"./_plugin-vue_export-helper.NGi3vMWx.js";import"./castArray.xoi9qGdq.js";import"./_Uint8Array.ccUD6PZG.js";import"./tagsView.XBTTKaFa.js";const c=_({name:"SystemSettingLog",data:()=>({name:"日志设置",height:680,loading:!1,model:{log_switch:0,log_save_time:0},rules:{}}),created(){this.height=p(210),this.info()},methods:{info(){f().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,f().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,g(this.model).then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,p,f,g,_,c){const j=h,v=u,w=r,b=i,y=d,V=n,k=m;return a(),l(k,null,{default:t((()=>[s(v,{span:16},{default:t((()=>[s(V,{ref:"ref",model:_.model,rules:_.rules,"label-width":"120px"},{default:t((()=>[s(w,{label:"日志记录开关",prop:"log_switch"},{default:t((()=>[s(v,{span:8},{default:t((()=>[s(j,{modelValue:_.model.log_switch,"onUpdate:modelValue":p[0]||(p[0]=e=>_.model.log_switch=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),s(v,{span:16},{default:t((()=>[o(" 开启后，会记录后台用户日志。 ")])),_:1})])),_:1}),s(w,{label:"日志保留时间",prop:"log_save_time"},{default:t((()=>[s(v,{span:8},{default:t((()=>[s(b,{modelValue:_.model.log_save_time,"onUpdate:modelValue":p[1]||(p[1]=e=>_.model.log_save_time=e),type:"number"},{append:t((()=>[o("天")])),_:1},8,["modelValue"])])),_:1}),s(v,{span:16},{default:t((()=>[o(" 用户日志保留天数，0永久保留。 ")])),_:1})])),_:1}),s(w,null,{default:t((()=>[s(y,{loading:_.loading,onClick:p[2]||(p[2]=e=>c.refresh())},{default:t((()=>[o("刷新")])),_:1},8,["loading"]),s(y,{loading:_.loading,type:"primary",onClick:p[3]||(p[3]=e=>c.submit())},{default:t((()=>[o("提交")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{c as default};
