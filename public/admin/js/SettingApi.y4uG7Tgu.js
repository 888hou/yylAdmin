import{aa as e,a,k as l,w as t,a2 as i,a1 as s,ax as o,ar as m}from"./index.DjA_re4j.js";import{E as r}from"./el-row.BdhO5HhT.js";import{a as d,E as n}from"./el-form-item.hhV0qe52.js";import{E as p}from"./el-switch.DFvPhZwO.js";import{E as u}from"./el-col.Dga7oIhs.js";import{s as _}from"./screen-height.Bl-ULtFD.js";import{a as f,b as h}from"./setting.u2NHz263.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.DfHHGGLY.js";import"./_Uint8Array.CC4oM34b.js";import"./tagsView.DcdT0xLi.js";const c=g({name:"MemberSettingApi",data:()=>({name:"接口设置",height:680,loading:!1,model:{is_member_api:0,api_rate_num:3,api_rate_time:1},rules:{}}),created(){this.height=_(210),this.info()},methods:{info(){f().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,f().then((a=>{this.model=a.data,this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((a=>{a&&(this.loading=!0,h(this.model).then((a=>{this.loading=!1,e.success(a.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,_,f,h,g,c){const b=o,j=u,V=d,v=p,y=m,w=n,x=r;return a(),l(x,null,{default:t((()=>[i(j,{span:16},{default:t((()=>[i(w,{ref:"ref",model:g.model,rules:g.rules,"label-width":"120px"},{default:t((()=>[i(V,{label:"接口速率"},{default:t((()=>[i(j,{span:5},{default:t((()=>[i(b,{modelValue:g.model.api_rate_num,"onUpdate:modelValue":_[0]||(_[0]=e=>g.model.api_rate_num=e),type:"number",placeholder:"次数"},{append:t((()=>[s("次 /")])),_:1},8,["modelValue"])])),_:1}),i(j,{span:5},{default:t((()=>[i(b,{modelValue:g.model.api_rate_time,"onUpdate:modelValue":_[1]||(_[1]=e=>g.model.api_rate_time=e),type:"number",placeholder:"时间"},{append:t((()=>[s("秒")])),_:1},8,["modelValue"])])),_:1}),i(j,{span:14},{default:t((()=>[s("eg：3/1：3次1秒；次数为 0 则不限制")])),_:1})])),_:1}),i(V,{label:"会员接口",prop:"is_member_api"},{default:t((()=>[i(j,{span:4},{default:t((()=>[i(v,{modelValue:g.model.is_member_api,"onUpdate:modelValue":_[2]||(_[2]=e=>g.model.is_member_api=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),i(j,{span:20},{default:t((()=>[s(" 关闭后，不校验接口和权限，所有接口（免登除外）均需登录访问 ")])),_:1})])),_:1}),i(V,null,{default:t((()=>[i(y,{loading:g.loading,onClick:_[3]||(_[3]=e=>c.refresh())},{default:t((()=>[s("刷新")])),_:1},8,["loading"]),i(y,{loading:g.loading,type:"primary",onClick:_[4]||(_[4]=e=>c.submit())},{default:t((()=>[s("提交")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{c as default};
