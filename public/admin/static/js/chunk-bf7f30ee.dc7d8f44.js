(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf7f30ee"],{"0b4d":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.actTabName,callback:function(t){e.actTabName=t},expression:"actTabName"}},[e.checkPermission(["admin/AdminSetting/cacheInfo"])?n("el-tab-pane",{attrs:{label:"缓存设置",name:"cache"}},[n("el-row",{attrs:{gutter:8}},[n("el-col",{attrs:{xs:24,sm:12}},[n("div",{staticClass:"filter-container"},[e.cache?n("Cache"):e._e()],1)])],1)],1):e._e(),e.checkPermission(["admin/AdminSetting/tokenInfo"])?n("el-tab-pane",{attrs:{label:"Token设置",name:"token"}},[n("el-row",{attrs:{gutter:8}},[n("el-col",{attrs:{xs:24,sm:12}},[n("div",{staticClass:"filter-container"},[e.token?n("Token"):e._e()],1)])],1)],1):e._e(),e.checkPermission(["admin/AdminSetting/verifyInfo"])?n("el-tab-pane",{attrs:{label:"验证码设置",name:"verify"}},[n("el-row",{attrs:{gutter:8}},[n("el-col",{attrs:{xs:24,sm:12}},[n("div",{staticClass:"filter-container"},[e.verify?n("Verify"):e._e()],1)])],1)],1):e._e()],1)],1)},a=[],o=(n("1e6a"),n("e350")),r=n("4381"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"ref",attrs:{model:e.model,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"缓存类型",prop:"type"}},[n("el-input",{model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}})],1),n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("手动清除所有缓存（后台登录状态不会清除）。")])]),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{loading:e.loading,type:"primary",title:"清除缓存"},on:{click:function(t){return e.submit()}}},[e._v("清除")])],1)],1)],1)},s=[],c=n("b775");function u(e){return Object(c["a"])({url:"/admin/AdminSetting/cacheInfo",method:"get",params:e})}function m(e){return Object(c["a"])({url:"/admin/AdminSetting/cacheClear",method:"post",data:e})}function d(e){return Object(c["a"])({url:"/admin/AdminSetting/tokenInfo",method:"get",params:e})}function f(e){return Object(c["a"])({url:"/admin/AdminSetting/tokenEdit",method:"post",data:e})}function p(e){return Object(c["a"])({url:"/admin/AdminSetting/verifyInfo",method:"get",params:e})}function h(e){return Object(c["a"])({url:"/admin/AdminSetting/verifyEdit",method:"post",data:e})}var v={name:"Cache",components:{},data:function(){return{loading:!1,model:{type:""},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;u().then((function(t){e.model=t.data}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,m().then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.loading=!1})))}))}}},b=v,g=n("5d22"),k=Object(g["a"])(b,l,s,!1,null,null,null),_=k.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"Token有效时间",prop:"token_exp"}},[n("el-input",{attrs:{type:"number"},model:{value:e.model.token_exp,callback:function(t){e.$set(e.model,"token_exp",t)},expression:"model.token_exp"}},[n("template",{slot:"append"},[e._v("小时")])],2)],1),n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("后台登录状态有效时间，过期需重新登录。")])]),n("el-form-item",[n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},w=[],x={name:"Token",components:{},data:function(){return{loading:!1,model:{token_exp:12},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;d().then((function(t){e.model=t.data}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,f(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.info(),e.loading=!1})))}))}}},C=x,$=Object(g["a"])(C,y,w,!1,null,null,null),A=$.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"ref",attrs:{model:e.model,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"验证码开关",prop:"verify_switch"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.model.verify_switch,callback:function(t){e.$set(e.model,"verify_switch",t)},expression:"model.verify_switch"}})],1),n("el-form-item",{attrs:{label:"",prop:""}},[n("span",[e._v("开启后，后台登录需要输入验证码。")])]),n("el-form-item",[n("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)},O=[],S={name:"Verify",components:{},data:function(){return{loading:!1,model:{verify_switch:0},rules:{}}},created:function(){this.info()},methods:{info:function(){var e=this;p().then((function(t){e.model=t.data}))},submit:function(){var e=this;this.$refs["ref"].validate((function(t){t&&(e.loading=!0,h(e.model).then((function(t){e.info(),e.loading=!1,e.$message.success(t.msg)})).catch((function(){e.info(),e.loading=!1})))}))}}},T=S,E=Object(g["a"])(T,j,O,!1,null,null,null),I=E.exports,N={name:"Setting",directives:{permission:r["a"]},components:{Cache:_,Token:A,Verify:I},data:function(){return{cache:!0,token:!1,verify:!1,actTabName:"cache"}},created:function(){},methods:{checkPermission:o["a"],tabClick:function(e){this[e.name]=!0}}},V=N,P=Object(g["a"])(V,i,a,!1,null,null,null);t["default"]=P.exports},4381:function(e,t,n){"use strict";n("4318"),n("2e4f");var i=n("4360");function a(e,t){var n=t.value,a=i["a"].getters&&i["a"].getters.roles;if(!(n&&n instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(n.length>0){var o=n,r=a.some((function(e){return o.includes(e)}));r||e.parentNode&&e.parentNode.removeChild(e)}}var o={inserted:function(e,t){a(e,t)},update:function(e,t){a(e,t)}},r=function(e){e.directive("permission",o)};window.Vue&&(window["permission"]=o,Vue.use(r)),o.install=r;t["a"]=o},e350:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("4318"),n("2e4f");var i=n("4360");function a(e){if(e&&e instanceof Array&&e.length>0){var t=i["a"].getters&&i["a"].getters.roles,n=e,a=t.some((function(e){return n.includes(e)}));return a}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}}}]);