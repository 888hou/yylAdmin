(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36d8361a"],{"162c":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"ref",staticClass:"login-form",attrs:{model:e.model,rules:e.rules,"label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v(e._s(e.systemName))])]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",placeholder:"账号/手机/邮箱","prefix-icon":"el-icon-user",autocomplete:"on",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock",autocomplete:"on",clearable:"","show-password":""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),e.verify_switch?r("el-form-item",{attrs:{prop:"verify_code"}},[r("el-col",{attrs:{span:13}},[r("el-input",{attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-picture",autocomplete:"off",clearable:""},model:{value:e.model.verify_code,callback:function(t){e.$set(e.model,"verify_code",t)},expression:"model.verify_code"}})],1),r("el-col",{attrs:{span:11}},[r("el-image",{staticStyle:{width:"200px",height:"36px",float:"right"},attrs:{src:e.verify_src,fit:"fill",alt:"验证码",title:"点击刷新验证码"},on:{click:e.verify}})],1)],1):e._e(),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)},o=[],n=(r("5e68"),r("83d6")),s=r.n(n),a=r("337d"),c={name:"Login",components:{},data:function(){return{systemName:s.a.systemName,loading:!1,redirect:void 0,otherQuery:{},verify_src:"",verify_switch:0,model:{username:"",password:"",verify_id:"",verify_code:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],verify_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){this.verify()},mounted:function(){},destroyed:function(){},methods:{verify:function(){var e=this;this.model.verify_id="",this.model.verify_code="",Object(a["c"])().then((function(t){e.model.verify_id=t.data.verify_id,e.verify_src=t.data.verify_src,e.verify_switch=t.data.verify_switch}))},handleLogin:function(){var e=this;this.$refs["ref"].validate((function(t){if(!t)return!1;e.loading=!0,e.$store.dispatch("user/login",e.model).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}).catch((function(){})),e.loading=!1})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,r){return"redirect"!==r&&(t[r]=e[r]),t}),{})}}},l=c,d=(r("5173"),r("29ec"),r("5d22")),u=Object(d["a"])(l,i,o,!1,null,"692dcfc0",null);t["default"]=u.exports},"29ec":function(e,t,r){"use strict";r("3fad")},"3fad":function(e,t,r){},5173:function(e,t,r){"use strict";r("9c7b")},"9c7b":function(e,t,r){}}]);